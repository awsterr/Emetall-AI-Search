// $raspberry: #DD0858;

a {
   text-decoration: none;
}

.backdrop {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: #000;
   opacity: .6;
   z-index: 10;

   &.hidden {
      display: none;
   }
}



main {

   .secondary-btn {
      font-size: 14px;
      border: 1px solid $blue;
      border-radius: 6px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: $blue;
      background: inherit;

      &:hover {
         background: $blue;
         color: #FFFFFF;
         transition: all .3s;
      }
   }

   .autosearch {
      background: #F2F2F4;

      &__container {
         padding-top: 24px;
         padding-bottom: 40px;
         max-width: 1456px;
         width: 90%;
         margin: 0 auto;
      }


      &__title {
         margin-bottom: 12px;
      }

      &__subtitle {
         margin-bottom: 24px;
      }

      &__body {
         display: grid;
         grid-template-columns: 2fr 1fr;
         gap: 36px;

         .autosearch-form {
            background: #FFFFFF;
            padding: 36px 26px 20px 32px;
            border-radius: 12px;
            display: grid;
            grid-template-columns: auto 1fr auto auto;
            grid-template-rows: 1fr auto;
            grid-template-areas:
               "textarea textarea textarea textarea"
               "file . counter btn";
            gap: 24px;
            align-items: center;
            box-shadow: 0px 8px 20px 0px #0000001A;
            position: relative;
            border: 1px solid #DDDDDD;

            &:focus-within {
               border-color: $blue;
            }

            #pseudo-placeholder {
               position: absolute;
               top: calc(2.5rem + 36px);
               left: 32px;
               color: #6C757D;
               user-select: none;
               cursor: text;

               &.hidden {
                  display: none;
               }
            }

            .autosearch-dragover {
               border: 2px dashed #FFFFFF;
               border-radius: inherit;
               position: absolute;
               z-index: 11;
               width: 100%;
               height: 100%;
               display: flex;
               flex-direction: column;
               gap: 24px;
               justify-content: center;
               align-items: center;
               text-align: center;
               color: #FFFFFF;
               padding: 90px 50px 37px;

               &.hidden {
                  display: none;
               }

               &__close {
                  cursor: pointer;
                  margin-top: 30px;
                  padding: 15px 15px 0;
               }
            }


            &__textarea {
               width: 100%;
               grid-column: span 4;
               grid-area: textarea;
               align-self: stretch;
               border: none;
               font-size: 24px;
               font-family: 'Segoe UI', 'Arial', sans-serif;
               resize: none;

               &:focus-visible {
                  outline: none;
               }
            }

            &__file-input {
               display: none;
            }

            &__custom-input {
               grid-area: file;
               width: 252px;
               display: flex;
               gap: 8px;
               align-items: center;
               justify-content: center;
               border: 2px solid $blue;
               border-radius: 6px;
               color: $blue;
               font-size: 15px;
               line-height: 25px;
               padding: 8px;
               cursor: pointer;
               transition: all .3s ease;

               &:hover {
                  color: #FFFFFF;
                  background: $blue;
                  border-color: #FFFFFF;

                  .autosearch-form__custom-input-icon {
                     background-image: url(../img/file-input-active.svg);
                  }
               }

               &-icon {
                  width: 19px;
                  height: 16px;
                  background-image: url(../img/file-input.svg);
               }
            }

            &__symbol-counter {
               grid-area: counter;

               & .warning {
                  color: $raspberry;
               }
            }

            &__btn {
               grid-area: btn;
               padding: 0 96px;
            }

            .form-results {
               display: none;
               position: absolute;
               top: 0;
               left: 0;
               background: #FFFFFF;
               width: 100%;
               height: 100%;
               padding: 32px;
               padding-bottom: 36px;
               border-radius: 12px;
               flex-direction: column;
               justify-content: flex-end;

               &__file {
                  display: flex;
                  gap: 16px;
                  position: relative;
                  align-items: center;
                  width: max-content;

                  .form-results__logo {
                     height: 64px;
                     width: 64px;
                     min-height: 64px;
                     min-width: 64px;
                     border-radius: 50%;
                     background: #f2f2f4;
                     background-image: url(../img/ai-file-text.svg);
                     background-position: center;
                     background-repeat: no-repeat;

                     &.doc {
                        background-image: url(../img/ai-file-doc.png);
                     }
                  }

                  .form-results__text {
                     .form-results__title {
                        width: max-content;

                        .form-results__status {
                           display: none;
                           margin-left: 16px;
                           color: #1A913C;
                           font-size: 14px;
                           font-weight: 400;
                        }
                     }

                     .form-results__subtitle {
                        color: $gray;
                        padding-top: 4px;
                        width: max-content;

                        a {
                           display: none;
                           color: $blue;

                           &:visited {
                              color: $blue;
                           }
                        }
                     }
                  }

                  .form-results__close-file {
                     width: 32px;
                     height: 32px;
                     border-radius: 6px;
                     background: #f2f2f4;
                     background-image: url(../img/search-close.svg);
                     background-position: center;
                     background-repeat: no-repeat;
                     cursor: pointer;
                     position: absolute;
                     top: 0;
                     right: -40px;
                  }
               }

               &__container {
                  display: none;
               }

               .progress__container {
                  background: #FFFFFF;
                  border-radius: 12px;
                  margin-top: 24px;

                  .progress-bg {
                     margin-top: 12px;
                     width: 100%;
                     height: 5px;
                     border-radius: 12px;
                     background: #F2F2F4;

                     .progress-line {
                        background: $blue;
                        border-radius: 12px;
                        height: 100%;
                        width: 0;
                        transition: width 0.4s ease;
                     }
                  }
               }

               &.finished {
                  justify-content: unset;

                  .form-results__body {
                     display: flex;
                     flex-direction: column;
                     justify-content: space-between;
                     height: 100%;

                     .form-results__close-file {
                        display: none;
                     }

                     .form-results__title {
                        .form-results__status {
                           display: inline;
                        }
                     }

                     .form-results__subtitle {
                        a {
                           display: inline;
                        }
                     }
                  }

                  .form-results__container {
                     display: block;

                     .form-results__wrapper {
                        display: flex;
                        gap: 16px;
                     }

                     h3 {
                        margin-bottom: 16px;
                     }

                     a {
                        white-space: nowrap;

                     }

                     p {
                        font-size: 14px;
                        max-width: 332px;
                        color: $gray;

                        a:visited {
                           color: $blue;
                        }
                     }

                     .secondary-btn {
                        max-width: max-content;
                        padding: 20px;

                        &:nth-child(2) {
                           border-color: $gray;
                           color: $gray;

                           svg {
                              position: relative;
                              right: 4px;
                              margin-right: 4px;
                           }

                           &:hover {
                              color: #FFFFFF;
                              border-color: $blue;
                           }
                        }
                     }
                  }
               }
            }
         }

         .additional-info {
            display: flex;
            flex-direction: column;
            gap: 24px;

            .btns-wrapper {
               white-space: nowrap;
               display: grid;
               grid-template-columns: 3fr 2fr;
               gap: 16px;

               a {
                  width: auto;
               }
            }

            .search-request {
               background-color: #191B1D;
               background-image: url(../img/request-bg.png);
               background-repeat: no-repeat;
               background-position: top right;
               color: #FFFFFF;
               padding: 32px 112px 40px 40px;
               display: flex;
               flex-direction: column;
               gap: 12px;
               border-radius: 12px;

               &__title {
                  margin-bottom: 62px;
                  max-width: 230px;
               }

               &__link-wrapper {
                  display: flex;
                  gap: 16px;
                  align-items: center;

                  svg {
                     cursor: pointer;
                  }
               }

               &__link {
                  line-height: 1;
                  white-space: nowrap;
                  color: #FFFFFF;
                  display: block;
                  padding-bottom: 6px;
                  border-bottom: 1px solid #47494a;
               }
            }
         }
      }
   }

   .search-results {
      display: none;
      padding: 52px 0;
      max-width: 1456px;
      margin: 0 auto;

      &__header {
         display: flex;
         align-items: center;
         gap: 20px;
         margin-bottom: 25px;
      }

      &__title {
         margin-right: 32px;
      }

      &__subtitle {
         padding-top: .5rem;
      }

      .toggle {
         margin-top: 8px;
         cursor: pointer;

         .search-results__checkbox {
            clip: rect(0 0 0 0);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
         }

         .toggle-track {
            background: #FFFFFF;
            border: 1px solid #6C757D;
            border-radius: 30px;
            display: flex;
            align-items: center;
            position: relative;
            width: 38px;
            height: 23px;
         }

         .toggle-indicator {
            background: #6C757D;
            border-radius: 30px;
            margin-left: 3px;
            height: 16px;
            width: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: 700ms;
         }

         .search-results__checkbox:checked+.toggle-track {
            background: $blue;
            border-color: $blue;

            & .toggle-indicator {
               background: #FFFFFF;
               transform: translateX(15px);
            }
         }
      }

      &__list {
         display: flex;
         flex-direction: column;
         gap: 70px;

         .result-item {
            display: block;

            &__header {
               margin-bottom: 10px;
               display: flex;
            }

            &__number {
               display: flex;
               justify-content: center;
               align-items: center;
               width: 48px;
               background: #E4E4E4;
               color: $gray;
               border-top-left-radius: 12px;
               border-bottom-left-radius: 12px;
            }

            .position-filter {
               display: flex;
               gap: 20px;
               background: #F2F2F4;
               padding: 12px 20px;
               width: 100%;

               &__item {
                  display: flex;
                  flex-direction: column;
                  gap: 4px;

                  &:first-child .position-filter__body input {
                     width: 210px;
                  }

                  &:last-child {
                     justify-content: end;

                     .position-filter__refresh-btn {
                        padding: 0 24px;
                     }
                  }


               }

               &__title {
                  font-size: 11px;
                  color: $gray;
               }

               &__body {
                  display: flex;

                  input {
                     width: 96px;
                     height: 36px;
                     padding: 9px 16px;
                     border: none;
                     border-radius: 6px;
                     outline: 1px solid #DDDDDD;

                     &:focus,
                     &:hover {
                        outline-color: $blue;
                     }
                  }

                  &.double-input {
                     position: relative;

                     input:first-child {
                        border-top-right-radius: 0;
                        border-bottom-right-radius: 0;
                        width: 80px;

                        &:hover,
                        &:focus {
                           position: relative;
                           top: 0;
                           left: 0;
                        }
                     }

                     input:nth-child(2) {
                        border-top-left-radius: 0;
                        border-bottom-left-radius: 0;
                        width: 90px;
                        text-align: center;
                     }

                     &:hover input,
                     &:focus-within input {
                        outline-color: $blue;
                     }

                     .amount-input-icon {
                        position: absolute;
                        top: 16px;
                        right: 10px;
                        background-image: url(../img/form_arrow.svg);
                        background-position: center;
                        background-repeat: no-repeat;
                        background-size: contain;
                        width: 10px;
                        height: 6px;
                        cursor: pointer;

                        &::before {
                           content: "";
                           position: absolute;
                           top: -5px;
                           left: -3px;
                           right: -5px;
                           bottom: -5px;
                           background: transparent;
                        }
                     }

                     .amount-dropdown {
                        position: absolute;
                        z-index: 10;
                        right: 0;
                        top: 36px;
                        background: #FFFFFF;
                        padding: 5px;
                        border: 1px solid #DDDDDD;
                        border-radius: 6px;
                        width: 90px;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        gap: 4px;

                        &.hidden {
                           display: none;
                        }

                        .dropdown-item {
                           text-align: center;
                           width: 100%;
                           border-radius: 4px;
                           padding: 2px;
                           cursor: pointer;

                           &:hover {
                              background: #F5F5F5;
                           }
                        }
                     }
                  }

               }
            }

            &__close {
               display: flex;
               justify-content: center;
               align-items: center;
               width: 48px;
               background: #E4E4E4;
               color: $gray;
               border-top-right-radius: 12px;
               border-bottom-right-radius: 12px;
               cursor: pointer;
            }

            &__body {
               .table.table-striped {
                  width: 100%;
                  border-spacing: 0;
                  border-collapse: collapse;
                  color: #212529;
                  position: relative;

                  tr {
                     height: 43px;

                     &.result-table__tbody-tr:nth-child(odd) {
                        background: #F8F8F8;
                     }

                  }

                  .result-table__thead-tr {
                     th {
                        font-size: 13px;
                        font-weight: 600;
                     }
                  }

                  .result-table__td,
                  .result-table__th {
                     border-bottom: 1px solid #DFE2E6;
                     padding: 0 14px;
                     font-size: 14px;

                     &.info {
                        padding: 0;
                        position: relative;


                        .info-icon {
                           background-image: url(../img/info-gray.svg);
                           border-radius: 100%;
                           background-color: rgba(0, 0, 0, 0);
                           background-position: center;
                           background-repeat: no-repeat;
                           background-size: contain;
                           margin-top: 3px;
                           width: 18px;
                           height: 18px;
                           transition: background-image .3s;
                           cursor: pointer;

                           &:hover {
                              background-image: url(../img/info_hover.svg);
                           }

                        }

                        .extra-info {
                           display: none;
                           position: absolute;
                           z-index: 10;
                           top: 32px;
                           left: 20px;
                           border-radius: 12px;
                           box-shadow: 0px 8px 20px 0px #00000033;
                           background: #FFFFFF;
                           min-width: 350px;

                           &__header {
                              font-size: 12px;
                              font-weight: 600;
                              padding: 6px 12px;
                              background-color: #FDF3E7;
                              border-top-left-radius: 12px;
                              border-top-right-radius: 12px;
                              display: flex;
                              justify-content: space-between;

                              span {
                                 display: inline-block;
                                 margin-left: auto;
                                 font-weight: 400;
                                 color: #1A913C;
                              }
                           }

                           &__dl {
                              padding: 8px 12px 12px;
                              display: grid;
                              grid-template-columns: auto auto;
                              grid-template-rows: repeat(3, auto);
                              gap: .2em 15px;
                           }
                        }
                     }

                     &.warehouse {
                        color: $blue;

                        span {
                           display: inline-flex;
                           justify-content: center;
                           align-items: center;
                           width: 27px;
                           height: 18px;
                           font-size: 11px;
                           color: #279C0A;
                           background-image: url(../img/table-raiting-bg.svg);
                           background-position: center;
                           background-repeat: no-repeat;
                           padding-right: 3px;
                           padding-bottom: 2px;
                           margin-right: 8px;
                        }

                        a:visited {
                           color: $blue;
                        }
                     }

                     .btn-cart {
                        display: inline-block;
                        height: 24px;
                        padding: 2px 10px;
                        font-size: 14px;
                        margin-right: 26px;
                     }


                     &:last-child {
                        text-align: right;

                     }

                     .more-container {

                        display: inline-flex;
                        position: relative;
                        width: 27px;
                        height: 27px;
                        cursor: pointer;
                        padding: 6px;
                        border-radius: 4px;
                        transition: background .3s ease;

                        svg {
                           height: 100%;
                           width: 100%;
                           object-fit: contain;
                        }

                        &:active {
                           background: #E3E3E3;
                        }

                        .more-menu {
                           padding: 10px 12px;
                           border-radius: 12px;
                           width: fit-content;
                           box-shadow: 0px 8px 20px 0px #00000033;
                           background: #FFFFFF;
                           position: absolute;
                           z-index: 10;
                           top: 27px;
                           right: 0;
                           display: none;

                           .more-option {
                              padding: 12px;
                              border-radius: 5px;
                              display: flex;
                              align-items: center;
                              white-space: nowrap;
                              gap: 8px;

                              &:hover {
                                 background: #F5F5F5;
                              }

                              img {
                                 object-fit: contain;
                                 height: 14px;
                                 width: 14px;
                              }

                              &.warning {
                                 color: $raspberry;

                                 &:visited {
                                    color: $raspberry;
                                 }
                              }

                              &:visited {
                                 color: $text-color;
                              }
                           }
                        }

                     }
                  }

                  .loading-container {
                     position: absolute;
                     top: 43px;
                     left: 0;
                     bottom: 0;
                     right: 0;
                     background: #FFFFFF;
                     opacity: .9;
                     display: block;

                     .loading-circle {
                        position: relative;
                        top: 7px;
                        margin: 0 auto;
                        width: 48px;
                        aspect-ratio: 1;
                        border-radius: 50%;
                        border: 4px solid $blue;
                        animation:
                           l20-1 0.8s infinite linear alternate,
                           l20-2 1.6s infinite linear;
                     }
                  }


                  @keyframes l20-1 {
                     0% {
                        clip-path: polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%)
                     }

                     12.5% {
                        clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%)
                     }

                     25% {
                        clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%)
                     }

                     50% {
                        clip-path: polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)
                     }

                     62.5% {
                        clip-path: polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)
                     }

                     75% {
                        clip-path: polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%)
                     }

                     100% {
                        clip-path: polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%)
                     }
                  }

                  @keyframes l20-2 {
                     0% {
                        transform: scaleY(1) rotate(0deg)
                     }

                     49.99% {
                        transform: scaleY(1) rotate(135deg)
                     }

                     50% {
                        transform: scaleY(-1) rotate(0deg)
                     }

                     100% {
                        transform: scaleY(-1) rotate(-135deg)
                     }
                  }
               }
            }

            &__btn-more {
               margin-top: 32px;
               font-size: 15px;
               line-height: 25px;

               &.disable {
                  pointer-events: none;
                  opacity: .2;
               }
            }
         }
      }
   }

   .subscribe-promo {
      border-radius: 12px;
      max-width: 1456px;
      width: 90%;
      margin: 32px auto 122px;
      padding: 48px 133px 55px 60px;
      display: flex;
      gap: 57px;
      background: #F2F2F4;

      &__icon {
         margin-bottom: 20px;
      }
   }
}



.modal-wrapper {
   position: fixed;
   z-index: 11;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   display: flex;
   justify-content: center;
   align-items: center;

   &.hidden {
      display: none;
   }

   .modal-card__backdrop {
      z-index: 0;
   }

   .cart-modal {
      background: #FFFFFF;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-radius: 15px;
      position: relative;

      .cart-modal__close {
         box-sizing: content-box;
         display: block;
         position: absolute;
         padding: 10px;
         top: 14px;
         right: 14px;
         cursor: pointer;
      }

      .cart-modal__container {
         padding: 32px 40px 0;
         width: 100%;
      }

      &__title {
         justify-self: start;
      }

      &__body {
         display: flex;
         justify-content: space-between;
         padding-top: 28px;
         padding-bottom: 24px;

         .cart-modal__info {
            max-width: 50%;

            .cart-modal__position {
               margin-bottom: 6px;
               white-space: break-spaces;
            }

            .cart-modal__price {
               display: inline-block;
            }

            .cart-modal__total {
               display: inline-block;
               margin-left: 20px;
            }
         }

         .cart-modal__ui {
            max-width: 170px;

            .cart-modal__unit {
               display: flex;
               margin-bottom: 8px;

               &-tab {
                  border: 1px solid #DDDDDD;
                  width: 100%;
                  text-align: center;
                  padding: 5px;
                  cursor: pointer;
                  user-select: none;

                  &:first-child {
                     border-top-left-radius: 5px;
                     border-bottom-left-radius: 5px;
                     border-right: none;
                  }

                  &:last-child {
                     border-top-right-radius: 5px;
                     border-bottom-right-radius: 5px;
                  }

                  &.active {
                     background: #F2F2F4;
                  }
               }
            }

            .cart-modal__amount {
               position: relative;

               .cart-modal__minus {
                  background-image: url(../img/cart_minus.svg);
                  left: 8px;
               }

               .cart-modal__minus,
               .cart-modal__plus {
                  display: inline-block;
                  width: 16px;
                  height: 16px;
                  background-position: center;
                  background-repeat: no-repeat;
                  position: absolute;
                  top: 8px;
                  margin: 6px;
                  cursor: pointer;
                  color: $text-color;
                  transition: color .5s ease;

                  &.active {
                     color: $blue;
                  }
               }

               &-value {
                  border: 1px solid #DDDDDD;
                  padding: 9px;
                  text-align: center;
                  border-radius: 5px;
                  outline: 4px solid #E9F0FC;
                  width: 100%;

                  &:focus {
                     border: 1px solid $blue;
                  }
               }

               .cart-modal__plus {
                  background-image: url(../img/cart_plus.svg);
                  right: 8px;

               }
            }
         }
      }

      &__footer {
         display: flex;
         min-height: 88px;
         min-width: 100%;
         gap: 24px;
         padding: 20px 40px 24px;
         border-top: 1px solid #F2F2F4;

         a {
            width: 100%;
         }
      }

   }
}